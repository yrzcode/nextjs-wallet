
# Testing

## Overview

This project uses Storybook's test-runner for automated component testing.

## Created Test Files

### 1. DataTable Tests (`stories/DataTable.test.ts`)

Tests various DataTable component functionalities:

- Default data rendering
- Sorting functionality
- Pagination controls
- Empty state display
- Filter functionality (deposits only, withdrawals only)
- Keyboard accessibility

### 2. RangeDatePicker Tests (`stories/RangeDatePicker.test.ts`)

Tests various RangeDatePicker component functionalities:

- Basic rendering
- Date selection
- Clear functionality
- Preset buttons
- Disabled state
- Keyboard accessibility

## Running Tests

### Start Storybook

```bash
yarn storybook
```

### Run Tests

In another terminal, run:

```bash
yarn test-storybook
```

### Run Specific Tests

```bash
yarn test-storybook --testNamePattern="DataTable"
```

## Test Configuration

The project is configured with the following test options:

- Uses Chromium browser
- 15-second test timeout
- Limited concurrency in CI environment
- Automatically includes all story files
- Excludes introductory documentation

## Story Coverage

Current tests cover the following story scenarios:

### DataTable Stories:

- Default: Default data table display
- Empty State: Empty state handling
- Deposits Only: Show deposits only
- Withdrawals Only: Show withdrawals only
- Single Row: Single row data
- Large Dataset: Large dataset pagination

### RangeDatePicker Stories:

- Default: Default date picker
- With Preset Buttons: With preset buttons
- Selected State: Selected state
- Disabled: Disabled state
- Compact Layout: Compact layout
- Interactive Demo: Interactive demonstration
- With Validation: With validation

## Notes

1. Ensure to start the Storybook server before running tests
2. Tests automatically check basic component rendering and interaction functionality
3. Includes basic accessibility testing
4. Test results generate detailed reports

## Extending Tests

To add new tests, you can:

1. Add new test cases to existing test files
2. Create new `.test.ts` files
3. Ensure test files follow Playwright test format
